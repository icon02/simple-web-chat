{"version":3,"sources":["GlobalUserState.js","assets/profile-placeholder.png","components/ProtectedRoute.js","pages/login/LoginPage.js","pages/chat/components/ChatInput.js","pages/chat/components/ChatBanner.js","pages/chat/components/ContactComponent.js","pages/chat/components/ChatContacts.js","pages/chat/components/MessageComponent.js","pages/chat/components/ChatMessages.js","pages/chat/ChatPage.js","pages/LandingPage.js","App.js","Themes.js","reportWebVitals.js","index.js"],"names":["GlobalUserContext","createContext","GlobalUserContextProvider","props","useState","username","imageUrl","globalUserState","setGlobalUserState","useEffect","length","URL","revokeObjectURL","Provider","value","children","ProtectedRoute","to","component","useContext","user","path","useStyles","makeStyles","theme","root","height","width","display","justifyContent","alignItems","textAlign","loginContainer","flexDirection","padding","spacing","margin","input","avatar","fontSize","backgroundColor","palette","primary","main","transition","transitions","create","color","background","paper","boxShadow","cursor","loginLoading","marginRight","LoginPage","inputRef","createRef","setUsername","setImage","setImageUrl","isUsernameError","setUsernameError","isLoginLoading","setLoginLoading","classes","setUser","console","log","Paper","className","elevation","Typography","variant","Divider","style","TextField","onFocus","label","onChange","e","target","inputProps","min","InputProps","helperText","error","type","accept","ref","files","createObjectURL","Avatar","onClick","current","click","src","Button","setTimeout","history","push","CircularProgress","size","thickness","inputBase","flexGrow","minHeight","ChatInput","onSend","enabled","message","attachment","setMessage","sendOnClick","FormControl","name","file","IconButton","disabled","Tooltip","placement","title","InputBase","placeholder","multiline","rowsMax","onKeyPress","key","shiftKey","preventDefault","flexShrink","breakpoints","down","borderBottom","backButton","contactContainer","up","paddingLeft","contactTitle","deleteButton","right","scale","imageDialog","dialogImage","maxHeight","objectFit","ChatBanner","showDelete","onDelete","isLoading","img","selectedContact","onBackPress","showImageDialog","setShowImageDialog","Dialog","open","onClose","userImageDialog","Hidden","mdUp","Skeleton","substr","toLocaleUpperCase","Fade","in","deleteIcon","selected","light","borderTop","borderColor","borderTopColor","marginLeft","marginTop","marginBottom","typography","fontWeight","newMessageDiv","borderRadius","dark","ContactComponent","contact","newMessage","titleContainer","searchContainer","overflow","lastScrollActionWasDown","searchInputBase","shape","paddingRight","paddingTop","paddingBottom","opacity","contactsContainer","overflowX","overflowY","settingsContainer","clearSearchButton","clearIcon","snackPaper","logoutDialogContent","myUserContainer","myUserAvatar","loggedInText","common","black","white","icon","logoutButtonYes","test_contacts","id","profileImageSrc","imageUrlimageUrl","ChatContacts","setSelectedContact","setLastScrollActionWasDown","prevContactDivScrollTop","isSoundOn","setSoundOn","contacts","searchText","setSearchText","showSnackbarNotificationOn","setShowSnackbarNotificaitonOn","showSnackbarNotificationOff","setShowSnackbarNotificaitonOff","showLogoutDialog","setShowLogoutDialog","showUserImageDialog","setShowUserImageDialog","isMdAndUp","useMediaQuery","useTheme","clearSearchOnClick","DialogTitle","Snackbar","anchorOrigin","vertical","horizontal","autoHideDuration","endAdornment","InputAdornment","onTouchEnd","onScroll","wasScrollDown","scrollTop","filter","elem","toLocaleLowerCase","includes","map","charAt","alignSelf","isMyMsg","messageContainer","border","animation","isSending","duration","standard","easing","easeIn","animationIterationCount","isSendingText","grey","pointerEvents","divider","link","MessageComponent","attachmentName","attachmentDownloadLink","onDoubleClick","split","s","Link","href","moreLoadingElem","nothingMoreToShowText","ChatMessages","messages","isMoreLoading","moreItemsLoadable","loadMore","MyLoadingSkeleton","OtherLoadingSkeleton","fromUserId","downloadLink","timestamp","Collapse","container","flexBasis","chatContainer","ChatPage","setMessages","isMessagesLoading","setMessagesLoading","isInputEnabled","setInputEnabled","isMobile","onMobileBackPress","swipeHandlers","useSwipeable","onSwipedRight","Contacts","Chat","messagesCopy","messageIndex","indexOf","Grid","item","xs","md","lg","LandingPage","_","App","exact","LightTheme","createTheme","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","createBrowserHistory","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.14944b53.chunk.js","sourcesContent":["import React, { createContext, useState, useEffect } from \"react\";\n\nexport const GlobalUserContext = createContext();\n\nexport const GlobalUserContextProvider = (props) => {\n\tconst [globalUserState, setGlobalUserState] = useState({\n\t\tusername: \"\",\n\t\timageUrl: \"\",\n\t});\n\n\tuseEffect(() => {\n\t\treturn () => {\n\t\t\tif (globalUserState.imageUrl && globalUserState.imageUrl.length > 0)\n\t\t\t\tURL.revokeObjectURL(globalUserState.imageUrl);\n\t\t};\n\t}, []);\n\n\treturn (\n\t\t<GlobalUserContext.Provider value={[globalUserState, setGlobalUserState]}>\n\t\t\t{props.children}\n\t\t</GlobalUserContext.Provider>\n\t);\n};\n","export default \"data:image/png;base64,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\"","import React, { useContext } from \"react\";\nimport { GlobalUserContext } from \"../GlobalUserState\";\nimport Redirect from \"react-router-dom/Redirect\";\nimport Route from \"react-router-dom/Route\";\nimport profilePlaceholderURL from \"../assets/profile-placeholder.png\";\n\nexport default function ProtectedRoute({ to, component, ...props }) {\n\tconst [user, _] = useContext(GlobalUserContext);\n\n\tif (to === \"/login\") user = null;\n\n\treturn user && user.username && user.username.length > 0 ? (\n\t\t<Route path={to} component={component} {...props} />\n\t) : (\n\t\t<Redirect to={\"/login\"} />\n\t);\n}\n","import React, { useState, createRef, useEffect, useContext } from \"react\";\nimport makeStyles from \"@material-ui/core/styles/makeStyles\";\nimport {\n\tPaper,\n\tTypography,\n\tTextField,\n\tButton,\n\tDivider,\n\tCircularProgress,\n\tAvatar,\n} from \"@material-ui/core\";\nimport { GlobalUserContext } from \"../../GlobalUserState\";\n\nconst useStyles = makeStyles((theme) => ({\n\troot: {\n\t\theight: \"100vh\",\n\t\twidth: \"100vw\",\n\t\tdisplay: \"flex\",\n\t\tjustifyContent: \"center\",\n\t\talignItems: \"center\",\n\t\ttextAlign: \"center\",\n\t},\n\tloginContainer: {\n\t\twidth: 300,\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column\",\n\t\tjustifyContent: \"center\",\n\t\talignItems: \"center\",\n\t\tpadding: theme.spacing(4),\n\t\t\"& > *\": {\n\t\t\tmargin: theme.spacing(1),\n\t\t},\n\t},\n\tinput: {\n\t\tdisplay: \"none\",\n\t},\n\tavatar: {\n\t\twidth: 80,\n\t\theight: 80,\n\t\tfontSize: \"0.8rem\",\n\t\tbackgroundColor: theme.palette.primary.main,\n\t\ttransition: theme.transitions.create([\"box-shadow\"]),\n\t\tcolor: theme.palette.background.paper,\n\t\t\"&:hover\": {\n\t\t\tboxShadow: `0px 0px 6px 2px ${theme.palette.primary.main}`,\n\t\t\tcursor: \"pointer\",\n\t\t},\n\t},\n\tloginLoading: {\n\t\tmarginRight: theme.spacing(1),\n\t},\n}));\n\nexport default function LoginPage(props) {\n\tconst inputRef = createRef(null);\n\tconst [username, setUsername] = useState(\"\");\n\tconst [image, setImage] = useState(null);\n\tconst [imageUrl, setImageUrl] = useState(null);\n\tconst [isUsernameError, setUsernameError] = useState(false);\n\tconst [isLoginLoading, setLoginLoading] = useState(false);\n\tconst classes = useStyles({ isUsernameError: isUsernameError });\n\n\tconst [user, setUser] = useContext(GlobalUserContext);\n\n\tconsole.log(user);\n\n\tfunction triggerInput() {\n\t\tif (!imageUrl && inputRef.current) inputRef.current.click();\n\t\telse {\n\t\t\tsetImage(null);\n\t\t\tsetImageUrl(null);\n\t\t}\n\t}\n\n\tfunction inputOnChange(e) {\n\t\tsetImage(e.target.files[0]);\n\t\tsetImageUrl(URL.createObjectURL(e.target.files[0]));\n\t}\n\n\tuseEffect(() => {\n\t\t// avoid memory leaks\n\t\treturn () => {\n\t\t\tif (imageUrl) URL.revokeObjectURL(imageUrl);\n\t\t};\n\t}, []);\n\n\tfunction loginOnClick() {\n\t\tif (isLoginLoading) return;\n\t\tif (!username || username.length < 4 || username.length > 8) {\n\t\t\tsetUsernameError(true);\n\t\t\treturn;\n\t\t}\n\t\tsetLoginLoading(true);\n\t\tsetTimeout(() => {\n\t\t\tsetUser({ username: username, imageUrl: imageUrl });\n\t\t\tsetLoginLoading(false);\n\t\t\tprops.history.push(\"/chat\");\n\t\t}, 800);\n\t}\n\n\treturn (\n\t\t<Paper className={classes.root} elevation={1}>\n\t\t\t<Paper className={classes.loginContainer}>\n\t\t\t\t<Typography variant=\"h3\" component=\"h1\" color=\"primary\">\n\t\t\t\t\tLogin\n\t\t\t\t</Typography>\n\t\t\t\t<Divider style={{ width: \"100%\" }} />\n\n\t\t\t\t<TextField\n\t\t\t\t\tonFocus={() => setUsernameError(false)}\n\t\t\t\t\tlabel=\"Username *\"\n\t\t\t\t\tvalue={username}\n\t\t\t\t\tonChange={(e) => setUsername(e.target.value)}\n\t\t\t\t\tinputProps={{\n\t\t\t\t\t\tmin: 0,\n\t\t\t\t\t\tstyle: { textAlign: \"center\" },\n\t\t\t\t\t}}\n\t\t\t\t\tInputProps={{ textAlign: \"center\" }}\n\t\t\t\t\thelperText=\"* between 4 and 8 characters\"\n\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\terror={isUsernameError}\n\t\t\t\t/>\n\n\t\t\t\t<input\n\t\t\t\t\tclassName={classes.input}\n\t\t\t\t\ttype=\"file\"\n\t\t\t\t\taccept=\".jpg, .jpeg, .png\"\n\t\t\t\t\tref={inputRef}\n\t\t\t\t\tonChange={inputOnChange}\n\t\t\t\t/>\n\t\t\t\t<Avatar\n\t\t\t\t\tclassName={classes.avatar}\n\t\t\t\t\tonClick={triggerInput}\n\t\t\t\t\tsrc={imageUrl}\n\t\t\t\t>\n\t\t\t\t\tClick to set your profile image\n\t\t\t\t</Avatar>\n\n\t\t\t\t<Button variant=\"outlined\" color=\"primary\" onClick={loginOnClick}>\n\t\t\t\t\t{isLoginLoading && (\n\t\t\t\t\t\t<CircularProgress\n\t\t\t\t\t\t\tclassName={classes.loginLoading}\n\t\t\t\t\t\t\tsize={20}\n\t\t\t\t\t\t\tthickness={7}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t\t<Typography variant=\"subtitle1\">Join the chat</Typography>\n\t\t\t\t</Button>\n\t\t\t</Paper>\n\t\t</Paper>\n\t);\n}\n","import React, { useState, createRef } from \"react\";\nimport makeStyles from \"@material-ui/core/styles/makeStyles\";\nimport { InputBase, IconButton, FormControl, Tooltip } from \"@material-ui/core\";\nimport {\n\tAttachFileOutlined as AttachmentIcon,\n\tAttachment as AttachedIcon,\n\tSendOutlined as SendIcon,\n} from \"@material-ui/icons\";\n\nconst useStyles = makeStyles((theme) => ({\n\troot: {\n\t\twidth: \"100%\",\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"row\",\n\n\t\talignItems: \"flex-end\",\n\t\theight: 48,\n\t},\n\tinput: {\n\t\tdisplay: \"none\",\n\t},\n\tinputBase: {\n\t\tflexGrow: 1,\n\t\tminHeight: 48,\n\t},\n}));\n\nexport default function ChatInput({ onSend, enabled, ...props }) {\n\tconst classes = useStyles();\n\tconst inputRef = createRef(null);\n\tconst [message, setMessage] = useState({ message: \"\", attachment: null });\n\n\tfunction sendOnClick() {\n\t\tconsole.log({ ...message });\n\t\tonSend({ ...message });\n\t\tsetMessage({ message: \"\", attachment: null });\n\t}\n\n\tfunction textInputOnChange(e) {\n\t\tsetMessage({ ...message, message: e.target.value });\n\t}\n\n\tfunction attachmentButtonOnClick() {\n\t\tif (message.attachment == null) {\n\t\t\tif (inputRef && inputRef.current) inputRef.current.click();\n\t\t} else {\n\t\t\tsetMessage({ ...message, attachment: null });\n\t\t}\n\t}\n\n\tfunction attachmentOnChange(e) {\n\t\tconsole.log(e.target.files[0]);\n\t\tsetMessage({\n\t\t\t...message,\n\t\t\tattachment: { name: e.target.files[0].name, file: e.target.files[0] },\n\t\t});\n\t}\n\n\tfunction handleKeyPress(e) {\n\t\tif (e.key === \"Enter\" && !e.shiftKey) {\n\t\t\te.preventDefault();\n\t\t\tsendOnClick(e);\n\t\t}\n\t}\n\n\treturn (\n\t\t<FormControl className={classes.root} elevation={0} {...props}>\n\t\t\t<input\n\t\t\t\ttype=\"file\"\n\t\t\t\taccept=\"image/*, .pdf\"\n\t\t\t\tclassName={classes.input}\n\t\t\t\tonChange={attachmentOnChange}\n\t\t\t\tref={inputRef}\n\t\t\t/>\n\t\t\t<IconButton onClick={attachmentButtonOnClick} disabled={!enabled}>\n\t\t\t\t{message.attachment == null ? (\n\t\t\t\t\t<Tooltip placement=\"top-start\" title=\"Click to attach\">\n\t\t\t\t\t\t<AttachmentIcon />\n\t\t\t\t\t</Tooltip>\n\t\t\t\t) : (\n\t\t\t\t\t<Tooltip placement=\"top-start\" title=\"Click to remove\">\n\t\t\t\t\t\t<AttachedIcon color=\"primary\" />\n\t\t\t\t\t</Tooltip>\n\t\t\t\t)}\n\t\t\t</IconButton>\n\t\t\t<InputBase\n\t\t\t\tdisabled={!enabled}\n\t\t\t\tplaceholder=\"Aa\"\n\t\t\t\tclassName={classes.inputBase}\n\t\t\t\tmultiline\n\t\t\t\trowsMax={10}\n\t\t\t\tvalue={message.message}\n\t\t\t\tonChange={textInputOnChange}\n\t\t\t\tonKeyPress={handleKeyPress}\n\t\t\t/>\n\t\t\t<IconButton onClick={sendOnClick} disabled={!enabled}>\n\t\t\t\t<SendIcon color={enabled ? \"primary\" : \"\"} />\n\t\t\t</IconButton>\n\t\t</FormControl>\n\t);\n}\n","import React, { useState } from \"react\";\nimport makeStyles from \"@material-ui/core/styles/makeStyles\";\nimport {\n\tPaper,\n\tAvatar,\n\tIconButton,\n\tFade,\n\tTypography,\n\tHidden,\n\tDialog,\n} from \"@material-ui/core\";\nimport { Skeleton } from \"@material-ui/lab\";\nimport { blue } from \"@material-ui/core/colors\";\nimport {\n\tDeleteOutline as DeleteIcon,\n\tArrowBackIosOutlined as BackIcon,\n} from \"@material-ui/icons\";\n\nconst useStyles = makeStyles((theme) => ({\n\troot: {\n\t\twidth: \"100%\",\n\t\theight: 80,\n\t\tflexShrink: 0,\n\t\tbackgroundColor: theme.palette.background.paper,\n\t\t[theme.breakpoints.down(\"sm\")]: {\n\t\t\tbackgroundColor: theme.palette.primary.main,\n\t\t},\n\t\tborderBottom: \"3px solid\",\n\t\tborderBottomColor: theme.palette.primary.main,\n\t\tborderRadius: 0,\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"row\",\n\t\tjustifyContent: \"space-between\",\n\t\talignItems: \"center\",\n\t\t\"& > *\": {\n\t\t\tborderBottom: \"none\",\n\t\t\tmargin: theme.spacing(1),\n\t\t},\n\t},\n\tbackButton: {\n\t\tcolor: theme.palette.background.paper,\n\t},\n\tcontactContainer: {\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"row\",\n\t\tjustifyContent: \"flex-start\",\n\t\talignItems: \"center\",\n\t\t[theme.breakpoints.up(\"md\")]: {\n\t\t\tpaddingLeft: theme.spacing(2),\n\t\t\t\"& > *:first-child\": {\n\t\t\t\tmarginRight: theme.spacing(2),\n\t\t\t},\n\t\t},\n\t\t[theme.breakpoints.down(\"md\")]: {\n\t\t\t\"& > *:first-child\": {\n\t\t\t\tmarginRight: theme.spacing(2),\n\t\t\t},\n\t\t\t\"& > *:nth-child(2)\": {\n\t\t\t\tmarginRight: theme.spacing(2),\n\t\t\t},\n\t\t},\n\t},\n\tcontactTitle: {\n\t\t[theme.breakpoints.down(\"sm\")]: {\n\t\t\tcolor: theme.palette.background.paper,\n\t\t},\n\t},\n\tdeleteButton: {\n\t\tright: theme.spacing(1),\n\t},\n\tavatar: {\n\t\twidth: 50,\n\t\theight: 50,\n\t\t[theme.breakpoints.up(\"md\")]: {\n\t\t\ttransition: theme.transitions.create([\"scale\"]),\n\t\t\t\"&:hover\": {\n\t\t\t\tcursor: \"pointer\",\n\t\t\t\tscale: 1.1,\n\t\t\t},\n\t\t},\n\t},\n\timageDialog: {\n\t\tdisplay: \"flex\",\n\t\tjustifyContent: \"center\",\n\t\talignItems: \"center\",\n\t\t[theme.breakpoints.down(\"sm\")]: {\n\t\t\twidth: 320,\n\t\t\theight: 240,\n\t\t},\n\t\t[theme.breakpoints.up(\"sm\")]: {\n\t\t\twidth: 540,\n\t\t\theight: 360,\n\t\t},\n\t},\n\tdialogImage: {\n\t\twidth: \"100%\",\n\t\theight: \"auto\",\n\t\tmaxHeight: \"100%\",\n\t\tobjectFit: \"scale-down\",\n\t},\n}));\n\nexport default function ChatBanner({\n\tshowDelete = false,\n\tonDelete,\n\tisLoading = false,\n\timg = null,\n\tselectedContact = { imageUrl: \"\", username: \"Undefined\" },\n\tonBackPress,\n}) {\n\tconst classes = useStyles();\n\tconst [showImageDialog, setShowImageDialog] = useState(false);\n\n\tfunction avatarOnClick() {\n\t\tif (\n\t\t\tselectedContact &&\n\t\t\tselectedContact.imageUrl &&\n\t\t\tselectedContact.imageUrl.length > 0\n\t\t)\n\t\t\tsetShowImageDialog(true);\n\t}\n\n\treturn (\n\t\t<Paper className={classes.root} elevation={0}>\n\t\t\t<Dialog\n\t\t\t\topen={showImageDialog}\n\t\t\t\tonClose={() => setShowImageDialog(false)}\n\t\t\t>\n\t\t\t\t<div className={classes.userImageDialog}>\n\t\t\t\t\t<img\n\t\t\t\t\t\tclassName={classes.dialogImage}\n\t\t\t\t\t\tsrc={selectedContact && selectedContact.imageUrl}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</Dialog>\n\t\t\t<div className={classes.contactContainer}>\n\t\t\t\t<Hidden mdUp>\n\t\t\t\t\t<IconButton onClick={onBackPress} className={classes.backButton}>\n\t\t\t\t\t\t<BackIcon />\n\t\t\t\t\t</IconButton>\n\t\t\t\t</Hidden>\n\t\t\t\t{isLoading ? (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<Skeleton variant=\"circle\" height={50} width={50} />\n\t\t\t\t\t\t<Skeleton variant=\"rect\" height={40} width={200} />\n\t\t\t\t\t</>\n\t\t\t\t) : (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<Avatar\n\t\t\t\t\t\t\tonClick={avatarOnClick}\n\t\t\t\t\t\t\tclassName={classes.avatar}\n\t\t\t\t\t\t\tsrc={selectedContact && selectedContact.imageUrl}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{selectedContact &&\n\t\t\t\t\t\t\t\tselectedContact.username\n\t\t\t\t\t\t\t\t\t.substr(0, 1)\n\t\t\t\t\t\t\t\t\t.toLocaleUpperCase()}\n\t\t\t\t\t\t</Avatar>\n\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\tvariant=\"h4\"\n\t\t\t\t\t\t\tcomponent=\"h1\"\n\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\tclassName={classes.contactTitle}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<strong>\n\t\t\t\t\t\t\t\t{selectedContact && selectedContact.username}\n\t\t\t\t\t\t\t</strong>\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t\t<Fade in={showDelete}>\n\t\t\t\t<IconButton className={classes.deleteButton} onClick={onDelete}>\n\t\t\t\t\t<DeleteIcon className={classes.deleteIcon} />\n\t\t\t\t</IconButton>\n\t\t\t</Fade>\n\t\t</Paper>\n\t);\n}\n","import React, { useState } from \"react\";\nimport makeStyles from \"@material-ui/core/styles/makeStyles\";\nimport { Typography, Avatar, Dialog } from \"@material-ui/core\";\n\nconst useStyles = makeStyles((theme) => ({\n\troot: {\n\t\tbackgroundColor: (props) =>\n\t\t\tprops.selected ? theme.palette.primary.light : \"\",\n\n\t\twidth: \"100%\",\n\t\tborderTop: \"1px solid\",\n\t\tborderColor: theme.palette.background.paper,\n\t\t[theme.breakpoints.down(\"sm\")]: {\n\t\t\tborderTop: \"1px solid\",\n\t\t\tborderTopColor: theme.palette.primary.light,\n\t\t\tbackgroundColor: (props) => props.selected && \"rgba(0, 0, 0, 0.0)\",\n\t\t},\n\t\t// paddingLeft: theme.spacing(3),\n\t\t// paddingRight: theme.spacing(3),\n\t\t// paddingTop: theme.spacing(1),\n\t\t// paddingBottom: theme.spacing(1),\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"row\",\n\t\ttransition: theme.transitions.create([\"background-color\"]),\n\t\talignItems: \"center\",\n\t\t\"& > *:first-child\": {\n\t\t\tmarginRight: theme.spacing(2),\n\t\t\tmarginLeft: theme.spacing(3),\n\t\t},\n\t\t\"&:hover\": {\n\t\t\tcursor: \"pointer\",\n\t\t\t[theme.breakpoints.up(\"md\")]: {\n\t\t\t\tbackgroundColor: (props) =>\n\t\t\t\t\tprops.selected\n\t\t\t\t\t\t? theme.palette.primary.light\n\t\t\t\t\t\t: \"rgba(255, 255, 255, 0.1)\",\n\t\t\t},\n\t\t},\n\t\t\"& > *\": {\n\t\t\t// pointerEvents: \"none\",\n\t\t\tmarginTop: theme.spacing(1),\n\t\t\tmarginBottom: theme.spacing(1),\n\t\t},\n\t},\n\ttypography: {\n\t\tcolor: theme.palette.background.paper,\n\t\t[theme.breakpoints.down(\"sm\")]: {\n\t\t\tfontWeight: \"bold\",\n\t\t\tcolor: theme.palette.primary.main,\n\t\t},\n\t},\n\tnewMessageDiv: {\n\t\theight: 10,\n\t\twidth: 10,\n\t\tborderRadius: \"50%\",\n\t\tbackgroundColor: theme.palette.primary.dark,\n\t\t[theme.breakpoints.down(\"sm\")]: {\n\t\t\tbackgroundColor: theme.palette.primary.main,\n\t\t},\n\t\tmarginLeft: \"auto\",\n\t\tmarginRight: theme.spacing(2),\n\t},\n}));\n\nexport default function ContactComponent({\n\tselected = false,\n\tcontact = { username: \"Undefined\", imageUrl: \"\" },\n\tnewMessage = false,\n\t...props\n}) {\n\tconst classes = useStyles({ selected: selected });\n\n\treturn (\n\t\t<div className={classes.root} {...props}>\n\t\t\t<Avatar src={contact ? contact.imageUrl : \"\"}>\n\t\t\t\t{contact ? contact.username.substr(0, 1).toLocaleUpperCase() : \"?\"}\n\t\t\t</Avatar>\n\t\t\t<Typography variant=\"h6\" component=\"p\" className={classes.typography}>\n\t\t\t\t{contact.username}\n\t\t\t</Typography>\n\t\t\t{newMessage && <div className={classes.newMessageDiv} />}\n\t\t</div>\n\t);\n}\n","import React, { useEffect, useState, useContext } from \"react\";\nimport { GlobalUserContext } from \"../../../GlobalUserState\";\nimport makeStyles from \"@material-ui/core/styles/makeStyles\";\nimport {\n\tInputBase,\n\tIconButton,\n\tSnackbar,\n\tTypography,\n\tInputAdornment,\n\tFade,\n\tuseMediaQuery,\n\tPaper,\n\tDialog,\n\tDialogTitle,\n\tButton,\n\tAvatar,\n} from \"@material-ui/core\";\nimport useTheme from \"@material-ui/core/styles/useTheme\";\nimport {\n\tMusicNoteOutlined as SoundOnIcon,\n\tMusicOffOutlined as SoundOffIcon,\n\tHighlightOffOutlined as ClearIcon,\n\tPowerSettingsNewOutlined as LogoutIcon,\n} from \"@material-ui/icons\";\nimport ContactComponent from \"./ContactComponent\";\nimport profileImageSrc from \"../../../assets/profile-placeholder.png\";\n\nconst default_search_container_height = 60;\n\nconst useStyles = makeStyles((theme) => ({\n\troot: {\n\t\theight: \"100%\",\n\t\twidth: \"100%\",\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column\",\n\t},\n\ttitleContainer: {\n\t\twidth: \"100%\",\n\t\tflexShrink: 0,\n\t\theight: 81,\n\t\tdisplay: \"flex\",\n\t\tjustifyContent: \"flex-start\",\n\t\talignItems: \"center\",\n\t\tcolor: theme.palette.background.paper,\n\t\t[theme.breakpoints.down(\"sm\")]: {\n\t\t\tbackgroundColor: theme.palette.primary.main,\n\t\t\theight: 80,\n\t\t},\n\t\tpaddingLeft: theme.spacing(3),\n\t},\n\tsearchContainer: {\n\t\twidth: \"100%\",\n\t\theight: default_search_container_height,\n\t\tflexShrink: 0,\n\t\tdisplay: \"flex\",\n\t\tjustifyContent: \"flex-start\",\n\t\talignItems: \"centert\",\n\t\toverflow: \"hidden\",\n\t\ttransition: theme.transitions.create([\"height\"]),\n\t\t[theme.breakpoints.down(\"sm\")]: {\n\t\t\tbackgroundColor: theme.palette.primary.main,\n\t\t\t// backgroundImage: `linear-gradient(180deg, ${theme.palette.primary.main} 90%, rgba(0, 0, 0, 0) 100%)`,\n\t\t\theight: (props) =>\n\t\t\t\tprops.lastScrollActionWasDown ? 0 : default_search_container_height,\n\t\t},\n\t},\n\tsearchInputBase: {\n\t\tmarginLeft: theme.spacing(3),\n\t\tmarginRight: theme.spacing(3),\n\t\twidth: `calc(100% - ${theme.spacing(6)}px)`,\n\t\theight: 48,\n\t\tborderRadius: theme.shape.borderRadius,\n\t\tbackgroundColor: \"rgba(255, 255, 255, 0.2)\",\n\t\tpaddingLeft: theme.spacing(2),\n\t\tpaddingRight: theme.spacing(2),\n\t\tpaddingTop: 4,\n\t\tpaddingBottom: 4,\n\t\ttransition: theme.transitions.create([\"all\"]),\n\t\tcolor: theme.palette.background.paper,\n\t\t[theme.breakpoints.down(\"sm\")]: {\n\t\t\topacity: (props) => (props.lastScrollActionWasDown ? 0 : 1),\n\t\t},\n\t},\n\tcontactsContainer: {\n\t\ttransition: theme.transitions.create([\"height\"]),\n\t\twidth: \"100%\",\n\t\talignItems: \"stretch\",\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column\",\n\t\tflexGrow: 1,\n\t\t// height: `calc(100vh - ${(props) =>\n\t\t// \tprops.lastScrollActionWasDown\n\t\t// \t\t? 128\n\t\t// \t\t: 128 + default_search_container_height}px)`,\n\t\toverflowX: \"hidden\",\n\t\toverflowY: \"scroll\",\n\t\t\"& > *:first-child\": {\n\t\t\tborderTop: \"none\",\n\t\t},\n\t},\n\tsettingsContainer: {\n\t\twidth: \"100%\",\n\t\tflexShrink: 0,\n\t\tdisplay: \"flex\",\n\t\tjustifyContent: \"space-between\",\n\t\talignItems: \"center\",\n\t\tflexDirection: \"row\",\n\t\theight: 48,\n\t\tborderTop: \"3px solid\",\n\t\tborderTopColor: theme.palette.background.paper,\n\t\t[theme.breakpoints.down(\"sm\")]: {\n\t\t\tborderTopColor: theme.palette.primary.main,\n\t\t},\n\t\t\"& > *:first-child\": {\n\t\t\tmarginLeft: theme.spacing(1),\n\t\t},\n\t\t\"& > *:last-child\": {\n\t\t\tmarginRight: theme.spacing(1),\n\t\t},\n\t},\n\tclearSearchButton: {\n\t\tmarginRight: `-${theme.spacing(1)}px`,\n\t},\n\tclearIcon: {\n\t\tcolor: theme.palette.background.paper,\n\t},\n\tsnackPaper: {\n\t\tpadding: theme.spacing(2),\n\t\tbackgroundColor: theme.palette.primary.main,\n\t\tcolor: theme.palette.background.paper,\n\t\tdisplay: \"flex\",\n\t\talignItems: \"center\",\n\t},\n\tlogoutDialogContent: {\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"row\",\n\t\tjustifyContent: \"center\",\n\t\talignItems: \"center\",\n\t\tpaddingBottom: theme.spacing(2),\n\t\t\"& > *:first-child\": {\n\t\t\tmarginRight: theme.spacing(2),\n\t\t},\n\t},\n\tmyUserContainer: {\n\t\tdisplay: \"flex\",\n\t\talignItems: \"center\",\n\t},\n\tmyUserAvatar: {\n\t\twidth: 35,\n\t\theight: 35,\n\t\tscale: 0.6,\n\n\t\t[theme.breakpoints.up(\"md\")]: {\n\t\t\ttransition: theme.transitions.create([\"scale\"]),\n\t\t\t\"&:hover\": {\n\t\t\t\tscale: 0.8,\n\t\t\t\tcursor: \"pointer\",\n\t\t\t},\n\t\t},\n\t},\n\tuserImageDialog: {\n\t\tdisplay: \"flex\",\n\t\tjustifyContent: \"center\",\n\t\talignItems: \"center\",\n\t\t[theme.breakpoints.down(\"sm\")]: {\n\t\t\twidth: 320,\n\t\t\theight: 240,\n\t\t},\n\t\t[theme.breakpoints.up(\"sm\")]: {\n\t\t\twidth: 540,\n\t\t\theight: 360,\n\t\t},\n\t},\n\tdialogImage: {\n\t\twidth: \"100%\",\n\t\theight: \"auto\",\n\t\tmaxHeight: \"100%\",\n\t\tobjectFit: \"scale-down\",\n\t},\n\tloggedInText: {\n\t\tcolor: theme.palette.background.paper,\n\t\t[theme.breakpoints.down(\"sm\")]: {\n\t\t\tcolor:\n\t\t\t\ttheme.palette.type === \"light\"\n\t\t\t\t\t? theme.palette.common.black\n\t\t\t\t\t: theme.palette.common.white,\n\t\t},\n\t},\n\ticon: {\n\t\tcolor: theme.palette.background.paper,\n\t\t[theme.breakpoints.down(\"sm\")]: {\n\t\t\tcolor:\n\t\t\t\ttheme.palette.type === \"light\"\n\t\t\t\t\t? theme.palette.common.black\n\t\t\t\t\t: theme.palette.common.white,\n\t\t},\n\t},\n\tlogoutButtonYes: {\n\t\tcolor: theme.palette.background.paper,\n\t},\n}));\n\nconst test_contacts = [\n\t{\n\t\tid: 1,\n\t\tusername: \"Icon02\",\n\t\timageUrl: profileImageSrc,\n\t},\n\t{\n\t\tid: 2,\n\t\tusername: \"Andreas43\",\n\t\timageUrl: \"\",\n\t},\n\t{\n\t\tid: 3,\n\t\tusername: \"Susi33\",\n\t\timageUrl: profileImageSrc,\n\t},\n\t{\n\t\tid: 4,\n\t\tusername: \"Franz02\",\n\t\timageUrl: profileImageSrc,\n\t},\n\t{\n\t\tid: 5,\n\t\tusername: \"Aks49\",\n\t\timageUrl: profileImageSrc,\n\t},\n\t{\n\t\tid: 6,\n\t\tusername: \"User49\",\n\t\timageUrl: profileImageSrc,\n\t},\n\t{\n\t\tid: 1,\n\t\tusername: \"Icon02\",\n\t\timageUrl: profileImageSrc,\n\t},\n\t{\n\t\tid: 2,\n\t\tusername: \"Andreas43\",\n\t\timageUrl: \"\",\n\t},\n\t{\n\t\tid: 3,\n\t\tusername: \"Susi33\",\n\t\timageUrl: profileImageSrc,\n\t},\n\t{\n\t\tid: 4,\n\t\tusername: \"Franz02\",\n\t\timageUrl: profileImageSrc,\n\t},\n\t{\n\t\tid: 5,\n\t\tusername: \"Aks49\",\n\t\timageUrl: profileImageSrc,\n\t},\n\t{\n\t\tid: 6,\n\t\tusername: \"User49\",\n\t\timageUrl: profileImageSrc,\n\t},\n\t{\n\t\tid: 1,\n\t\tusername: \"Icon02\",\n\t\timageUrl: profileImageSrc,\n\t},\n\t{\n\t\tid: 2,\n\t\tusername: \"Andreas43\",\n\t\timageUrl: \"\",\n\t},\n\t{\n\t\tid: 3,\n\t\tusername: \"Susi33\",\n\t\timageUrl: profileImageSrc,\n\t},\n\t{\n\t\tid: 4,\n\t\tusername: \"Franz02\",\n\t\timageUrl: profileImageSrc,\n\t},\n\t{\n\t\tid: 5,\n\t\tusername: \"Aks49\",\n\t\timageUrl: profileImageSrc,\n\t},\n\t{\n\t\tid: 6,\n\t\tusername: \"User49\",\n\t\timageUrlimageUrl: profileImageSrc,\n\t},\n];\n\nexport default function ChatContacts({\n\tselectedContact,\n\tsetSelectedContact = () => {},\n\thistory,\n\t...props\n}) {\n\tconst [lastScrollActionWasDown, setLastScrollActionWasDown] = useState(\n\t\tfalse\n\t);\n\tlet prevContactDivScrollTop = 0;\n\tconst classes = useStyles({\n\t\tlastScrollActionWasDown: lastScrollActionWasDown,\n\t});\n\tconst [isSoundOn, setSoundOn] = useState(true);\n\tconst [contacts, setContacts] = useState(test_contacts);\n\tconst [searchText, setSearchText] = useState(\"\");\n\tconst [showSnackbarNotificationOn, setShowSnackbarNotificaitonOn] = useState(\n\t\tfalse\n\t);\n\tconst [\n\t\tshowSnackbarNotificationOff,\n\t\tsetShowSnackbarNotificaitonOff,\n\t] = useState(false);\n\tconst [showLogoutDialog, setShowLogoutDialog] = useState(false);\n\tconst [showUserImageDialog, setShowUserImageDialog] = useState(false);\n\n\tconst [user, setUser] = useContext(GlobalUserContext);\n\n\tconst isMdAndUp = useMediaQuery(useTheme().breakpoints.up(\"md\"));\n\n\tuseEffect(() => {\n\t\tif (isMdAndUp && !selectedContact) setSelectedContact(contacts[0]);\n\t});\n\n\tfunction contactsContainerOnScroll(e) {\n\t\tconst wasScrollDown = e.target.scrollTop > prevContactDivScrollTop;\n\t\tif (wasScrollDown != lastScrollActionWasDown) {\n\t\t\tsetLastScrollActionWasDown(wasScrollDown);\n\t\t\tprevContactDivScrollTop = e.target.scrollTop;\n\t\t\tconsole.log(\"lastScrollActionWasDown toggled\");\n\t\t}\n\t}\n\n\tfunction toggleSoundOnOff() {\n\t\tif (!isSoundOn) setShowSnackbarNotificaitonOn(true);\n\t\telse setShowSnackbarNotificaitonOff(true);\n\t\tsetSoundOn(!isSoundOn);\n\t}\n\n\tfunction clearSearchOnClick() {\n\t\tsetSearchText(\"\");\n\t}\n\n\tfunction logoutOnClick() {\n\t\tsetShowLogoutDialog(true);\n\t}\n\n\tfunction logout() {\n\t\tsetUser(null);\n\t}\n\n\tfunction profileImageOnClick() {\n\t\tif (user.imageUrl && user.imageUrl.length > 0)\n\t\t\tsetShowUserImageDialog(true);\n\t}\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<Dialog\n\t\t\t\topen={showLogoutDialog}\n\t\t\t\tonClose={() => setShowLogoutDialog(false)}\n\t\t\t>\n\t\t\t\t<DialogTitle>Do you really want to log out?</DialogTitle>\n\t\t\t\t<div className={classes.logoutDialogContent}>\n\t\t\t\t\t<Button variant=\"contained\" color=\"primary\" onClick={logout}>\n\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\tvariant=\"subtitle1\"\n\t\t\t\t\t\t\tcomponent=\"p\"\n\t\t\t\t\t\t\tclassName={classes.logoutButtonYes}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tYes\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\tonClick={() => setShowLogoutDialog(false)}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Typography variant=\"subtitle1\" component=\"p\">\n\t\t\t\t\t\t\tNo\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</Button>\n\t\t\t\t</div>\n\t\t\t</Dialog>\n\t\t\t<Dialog\n\t\t\t\topen={showUserImageDialog}\n\t\t\t\tonClose={() => setShowUserImageDialog(false)}\n\t\t\t>\n\t\t\t\t<div className={classes.userImageDialog}>\n\t\t\t\t\t<img className={classes.dialogImage} src={user.imageUrl} />\n\t\t\t\t</div>\n\t\t\t</Dialog>\n\t\t\t<Snackbar\n\t\t\t\tanchorOrigin={{ vertical: \"bottom\", horizontal: \"center\" }}\n\t\t\t\topen={showSnackbarNotificationOn}\n\t\t\t\tautoHideDuration={800}\n\t\t\t\tonClose={() => setShowSnackbarNotificaitonOn(false)}\n\t\t\t>\n\t\t\t\t<Paper className={classes.snackPaper} elevation={0}>\n\t\t\t\t\t<Typography variant=\"body2\" component=\"p\">\n\t\t\t\t\t\tNotification sounds turned on\n\t\t\t\t\t</Typography>\n\n\t\t\t\t\t<SoundOnIcon />\n\t\t\t\t</Paper>\n\t\t\t</Snackbar>\n\t\t\t<Snackbar\n\t\t\t\tanchorOrigin={{ vertical: \"bottom\", horizontal: \"center\" }}\n\t\t\t\topen={showSnackbarNotificationOff}\n\t\t\t\tautoHideDuration={800}\n\t\t\t\tonClose={() => setShowSnackbarNotificaitonOff(false)}\n\t\t\t>\n\t\t\t\t<Paper className={classes.snackPaper}>\n\t\t\t\t\t<Typography variant=\"body2\" component=\"p\">\n\t\t\t\t\t\tNotification sounds turned off\n\t\t\t\t\t</Typography>\n\t\t\t\t\t<SoundOffIcon />\n\t\t\t\t</Paper>\n\t\t\t</Snackbar>\n\t\t\t<div className={classes.titleContainer}>\n\t\t\t\t<Typography variant=\"h4\" component=\"h2\">\n\t\t\t\t\t<strong>Contacts</strong>\n\t\t\t\t</Typography>\n\t\t\t</div>\n\t\t\t<div className={classes.searchContainer}>\n\t\t\t\t<InputBase\n\t\t\t\t\tplaceholder=\"Search\"\n\t\t\t\t\tclassName={classes.searchInputBase}\n\t\t\t\t\tvalue={searchText}\n\t\t\t\t\tonChange={(e) => setSearchText(e.target.value)}\n\t\t\t\t\tendAdornment={\n\t\t\t\t\t\t<InputAdornment>\n\t\t\t\t\t\t\t<Fade in={searchText.length >= 1}>\n\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\tonClick={clearSearchOnClick}\n\t\t\t\t\t\t\t\t\tonTouchEnd={clearSearchOnClick}\n\t\t\t\t\t\t\t\t\tclassName={classes.clearSearchButton}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<ClearIcon className={classes.clearIcon} />\n\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t</Fade>\n\t\t\t\t\t\t</InputAdornment>\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<div\n\t\t\t\tclassName={classes.contactsContainer}\n\t\t\t\tonScroll={contactsContainerOnScroll}\n\t\t\t>\n\t\t\t\t{contacts\n\t\t\t\t\t.filter((elem) =>\n\t\t\t\t\t\telem.username\n\t\t\t\t\t\t\t.toLocaleLowerCase()\n\t\t\t\t\t\t\t.includes(searchText.toLocaleLowerCase())\n\t\t\t\t\t)\n\t\t\t\t\t.map((contact) => (\n\t\t\t\t\t\t<ContactComponent\n\t\t\t\t\t\t\tselected={selectedContact === contact}\n\t\t\t\t\t\t\tcontact={contact}\n\t\t\t\t\t\t\tonClick={() => setSelectedContact(contact)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t))}\n\t\t\t</div>\n\t\t\t<div className={classes.settingsContainer}>\n\t\t\t\t<IconButton size=\"small\" onClick={logoutOnClick}>\n\t\t\t\t\t<LogoutIcon className={classes.icon} />\n\t\t\t\t</IconButton>\n\n\t\t\t\t<div className={classes.myUserContainer}>\n\t\t\t\t\t<Typography\n\t\t\t\t\t\tclassName={classes.loggedInText}\n\t\t\t\t\t\tvariant=\"body2\"\n\t\t\t\t\t\tcomponent=\"p\"\n\t\t\t\t\t\tstyle={{ fontSize: \"0.8rem\" }}\n\t\t\t\t\t>\n\t\t\t\t\t\tLogged in as <strong>{user.username}</strong>\n\t\t\t\t\t</Typography>\n\t\t\t\t\t<Avatar\n\t\t\t\t\t\tclassName={classes.myUserAvatar}\n\t\t\t\t\t\tonClick={profileImageOnClick}\n\t\t\t\t\t\tsrc={user.imageUrl}\n\t\t\t\t\t>\n\t\t\t\t\t\t{user.username.charAt(0)}\n\t\t\t\t\t</Avatar>\n\t\t\t\t</div>\n\n\t\t\t\t<IconButton size=\"small\" onClick={toggleSoundOnOff}>\n\t\t\t\t\t{isSoundOn ? (\n\t\t\t\t\t\t<SoundOnIcon className={classes.icon} />\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<SoundOffIcon className={classes.icon} />\n\t\t\t\t\t)}\n\t\t\t\t</IconButton>\n\n\t\t\t\t{/*\n\t\t\t\t<IconButton size=\"small\" onClick={moreOnClick}>\n\t\t\t\t\t<MoreIcon />\n\t\t\t\t</IconButton>\n\t\t\t\t<Menu\n\t\t\t\t\tanchorEl={moreMenuAnchor}\n\t\t\t\t\tkeepMounted\n\t\t\t\t\topen={Boolean(moreMenuAnchor)}\n\t\t\t\t\tonClose={moreMenuOnClose}\n\t\t\t\t>\n\t\t\t\t\t<MenuItem>\n\t\t\t\t\t\t<Checkbox />\n\t\t\t\t\t\t<Typography variant=\"subtitle2\" component=\"p\">\n\t\t\t\t\t\t\tAuto translate messages\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</MenuItem>\n\t\t\t\t\t<MenuItem>\n\t\t\t\t\t\t<Checkbox />\n\t\t\t\t\t\t<Typography variant=\"subtitle2\" component=\"p\">\n\t\t\t\t\t\t\tDark Mode\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</MenuItem>\n\t\t\t\t</Menu>*/}\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n","import React, { useEffect, useState } from \"react\";\nimport makeStyles from \"@material-ui/core/styles/makeStyles\";\nimport { Divider, Typography, Link, Fade } from \"@material-ui/core\";\n\nconst useStyles = makeStyles((theme) => ({\n\troot: {\n\t\talignSelf: (props) => props.isMyMsg && \"flex-end\",\n\t},\n\tmessageContainer: {\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column\",\n\t\tbackgroundColor: (props) =>\n\t\t\tprops.isMyMsg\n\t\t\t\t? theme.palette.primary.main\n\t\t\t\t: theme.palette.background.paper,\n\t\tpadding: theme.spacing(1),\n\t\tborderRadius: theme.shape.borderRadius,\n\t\tborder: (props) => (!props.isMyMsg ? \"1px solid\" : \"none\"),\n\t\tborderColor: (props) =>\n\t\t\t!props.isMyMsg ? theme.palette.primary.main : \"\",\n\t\twidth: \"auto\",\n\n\t\t// animation currently not working because of bug https://github.com/mui-org/material-ui/issues/21011\n\t\tanimation: (props) =>\n\t\t\tprops.isMyMsg &&\n\t\t\tprops.isSending &&\n\t\t\t`$loadingEffect ${theme.transitions.duration.standard} ${theme.transitions.easing.easeIn}`,\n\t\tanimationIterationCount: (props) =>\n\t\t\tprops.isMyMsg && props.isSending && \"infinite\",\n\t},\n\tisSendingText: {\n\t\tcolor: theme.palette.grey[700],\n\t\tfontSize: \"0.7rem\",\n\t\talignSelf: \"flex-end\",\n\t\tpaddingLeft: theme.spacing(1),\n\t},\n\tmessage: {\n\t\tpointerEvents: \"none\",\n\t\tcolor: (props) => (props.isMyMsg ? theme.palette.background.paper : \"\"),\n\t},\n\tdivider: {\n\t\tmarginTop: theme.spacing(1),\n\t},\n\tlink: {\n\t\tcursor: \"pointer\",\n\t\tcolor: (props) => (props.isMyMsg ? theme.palette.background.paper : \"\"),\n\t},\n}));\n\nexport default function MessageComponent({\n\tmessage = \"Default message\",\n\tattachmentName = \"Result.pdf\",\n\tattachmentDownloadLink,\n\tisMyMsg = true,\n\tonDoubleClick = () => {},\n\tisSending = false,\n\t...props\n}) {\n\tconst classes = useStyles({ isMyMsg, isSending });\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<Fade in={isSending && isMyMsg}>\n\t\t\t\t<Typography\n\t\t\t\t\tclassName={classes.isSendingText}\n\t\t\t\t\tvariant=\"body2\"\n\t\t\t\t\tcomponent=\"p\"\n\t\t\t\t>\n\t\t\t\t\tSending...\n\t\t\t\t</Typography>\n\t\t\t</Fade>\n\t\t\t<div className={classes.messageContainer} {...props}>\n\t\t\t\t{message.split(\"\\n\").map((s) => (\n\t\t\t\t\t<Typography\n\t\t\t\t\t\tvariant=\"body1\"\n\t\t\t\t\t\tcomponent=\"p\"\n\t\t\t\t\t\tclassName={classes.message}\n\t\t\t\t\t>\n\t\t\t\t\t\t{s}\n\t\t\t\t\t</Typography>\n\t\t\t\t))}\n\n\t\t\t\t{attachmentName && (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<Divider className={classes.divider} />\n\t\t\t\t\t\t<Link href={attachmentDownloadLink} className={classes.link}>\n\t\t\t\t\t\t\t{attachmentName}\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t</>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n","import React, { useState } from \"react\";\nimport makeStyles from \"@material-ui/core/styles/makeStyles\";\nimport { CircularProgress, Collapse, Typography } from \"@material-ui/core\";\nimport { Skeleton } from \"@material-ui/lab\";\nimport MessageComponent from \"./MessageComponent\";\n\nconst useStyles = makeStyles((theme) => ({\n\troot: {\n\t\twidth: \"100%\",\n\t\tflexGrow: 1,\n\t\toverflowY: \"scroll\",\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column-reverse\",\n\t\talignItems: \"flex-start\",\n\t\t\"& > *\": {\n\t\t\tmargin: theme.spacing(2),\n\t\t},\n\t},\n\tmoreLoadingElem: {\n\t\talignSelf: \"center\",\n\t},\n\tnothingMoreToShowText: {\n\t\talignSelf: \"center\",\n\t\tcolor: theme.palette.grey[700],\n\t\tfontSize: \"0.7rem\",\n\t},\n}));\n\nexport default function ChatMessages({\n\tmessages = [] /* array; example message: {fromUserId: x, toUserId: y, message: \"\", attachment: {name: \"\", downloadLink: \"\"}, timestamp: date, isSending: bool} */,\n\tisMoreLoading = false,\n\tisLoading = false,\n\tmoreItemsLoadable = true,\n\tloadMore = () => {},\n\t...props\n}) {\n\tconst classes = useStyles();\n\tlet myUserId = 1; // get via global state\n\n\tconst MyLoadingSkeleton = (\n\t\t<Skeleton\n\t\t\tstyle={{ alignSelf: \"flex-end\", marginBottom: 0 }}\n\t\t\twidth=\"50%\"\n\t\t\theight={120}\n\t\t/>\n\t);\n\tconst OtherLoadingSkeleton = (\n\t\t<Skeleton\n\t\t\tstyle={{ alignSelf: \"flex-start\", marginBottom: 0 }}\n\t\t\twidth=\"40%\"\n\t\t\theight={130}\n\t\t/>\n\t);\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t{isLoading ? (\n\t\t\t\t<>\n\t\t\t\t\t{MyLoadingSkeleton}\n\t\t\t\t\t{OtherLoadingSkeleton}\n\t\t\t\t\t{MyLoadingSkeleton}\n\t\t\t\t\t{OtherLoadingSkeleton}\n\t\t\t\t\t{MyLoadingSkeleton}\n\t\t\t\t\t{OtherLoadingSkeleton}\n\t\t\t\t</>\n\t\t\t) : (\n\t\t\t\t<>\n\t\t\t\t\t{messages.map((message) => (\n\t\t\t\t\t\t<MessageComponent\n\t\t\t\t\t\t\tisMyMsg={myUserId === message.fromUserId}\n\t\t\t\t\t\t\tmessage={message.message}\n\t\t\t\t\t\t\tattachmentName={\n\t\t\t\t\t\t\t\tmessage.attachment && message.attachment.name\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tattachmentDownloadLink={\n\t\t\t\t\t\t\t\tmessage.attachment && message.attachment.downloadLink\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\ttimestamp={message.timestamp}\n\t\t\t\t\t\t\tisSending={message.isSending}\n\t\t\t\t\t\t/>\n\t\t\t\t\t))}\n\t\t\t\t\t<MessageComponent isMyMsg={true} />\n\t\t\t\t\t<MessageComponent isMyMsg={false} />\n\n\t\t\t\t\t<Collapse\n\t\t\t\t\t\tin={!moreItemsLoadable}\n\t\t\t\t\t\tclassName={classes.nothingMoreToShowText}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\tvariant=\"body2\"\n\t\t\t\t\t\t\tcomponent=\"p\"\n\t\t\t\t\t\t\tclassName={classes.nothingMoreToShowText}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t---------- Nothing more to show ----------\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</Collapse>\n\t\t\t\t\t<Collapse in={isMoreLoading} className={classes.moreLoadingElem}>\n\t\t\t\t\t\t<CircularProgress\n\t\t\t\t\t\t\tsize={isMoreLoading ? 20 : 0}\n\t\t\t\t\t\t\tthickness={6}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Collapse>\n\t\t\t\t</>\n\t\t\t)}\n\t\t</div>\n\t);\n}\n","import React, { useEffect, useState } from \"react\";\nimport makeStyles from \"@material-ui/core/styles/makeStyles\";\nimport { Paper, Grid, useMediaQuery } from \"@material-ui/core\";\nimport useTheme from \"@material-ui/core/styles/useTheme\";\nimport {} from \"@material-ui/icons\";\nimport ChatInput from \"./components/ChatInput\";\nimport ChatBanner from \"./components/ChatBanner\";\nimport ChatContacts from \"./components/ChatContacts\";\nimport ChatMessages from \"./components/ChatMessages\";\nimport { useSwipeable } from \"react-swipeable\";\n\nconst useStyles = makeStyles((theme) => ({\n\troot: {\n\t\twidth: \"100%\",\n\t\theight: \"100%\",\n\t},\n\tcontainer: {\n\t\twidth: \"100%\",\n\t\theight: \"100%\",\n\t},\n\tcontactContainer: {\n\t\twidth: \"100%\",\n\t\theight: \"100%\",\n\t\tflexBasis: \"100%\",\n\t\tbackgroundColor: theme.palette.primary.main,\n\t\ttransition: theme.transitions.create([\"width\", \"flex-basis\"]),\n\t\t[theme.breakpoints.down(\"sm\")]: {\n\t\t\tbackgroundColor: theme.palette.background.paper,\n\t\t\toverflow: \"hidden\",\n\t\t\twidth: (props) => (props.selectedContact ? \"0%\" : \"100%\"),\n\t\t\tflexBasis: (props) => (props.selectedContact ? \"0%\" : \"100%\"),\n\t\t},\n\t},\n\tchatContainer: {\n\t\twidth: \"100%\",\n\t\theight: \"100%\",\n\t\tflexBasis: \"100%\",\n\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column\",\n\t\talignItems: \"center\",\n\t\tjustifyContent: \"space-between\",\n\t\ttransition: theme.transitions.create([\"width\", \"flex-basis\"]),\n\t\t[theme.breakpoints.down(\"sm\")]: {\n\t\t\tbackgroundColor: \"\",\n\t\t\twidth: (props) => (props.selectedContact ? \"100%\" : \"0%\"),\n\t\t\tflexBasis: (props) => (props.selectedContact ? \"100%\" : \"0%\"),\n\t\t\toverflow: \"hidden\",\n\t\t},\n\t},\n\tmessageContainer: {\n\t\tflexGrow: 1,\n\t},\n}));\n\nexport default function ChatPage(props) {\n\tconst [selectedContact, setSelectedContact] = useState(null);\n\tconst [messages, setMessages] = useState([]);\n\tconst [isMessagesLoading, setMessagesLoading] = useState(true);\n\tconst [isInputEnabled, setInputEnabled] = useState(false);\n\tconst classes = useStyles({ selectedContact: selectedContact });\n\n\tlet isMobile = useMediaQuery(useTheme().breakpoints.down(\"sm\"));\n\n\tfunction onMobileBackPress() {\n\t\tif (isMobile) setSelectedContact(null);\n\t}\n\n\tfunction onSend(message) {\n\t\tmessage.fromUserId = 1;\n\t\tmessage.isSending = true;\n\t\tsetMessages([message, ...messages]);\n\t\tconsole.log([message, ...messages]);\n\t\tsetInputEnabled(false);\n\t\tsetTimeout(\n\t\t\t(message, messages) => {\n\t\t\t\tconsole.log(message);\n\t\t\t\tconsole.log(\"setTimout: \");\n\t\t\t\tlet messagesCopy = [...messages];\n\t\t\t\tlet messageIndex = messagesCopy.indexOf(message);\n\t\t\t\tmessage.isSending = false;\n\t\t\t\tmessagesCopy[messageIndex] = message;\n\t\t\t\tsetMessages(messagesCopy);\n\t\t\t\tsetInputEnabled(true);\n\t\t\t},\n\t\t\t1000,\n\t\t\tmessage,\n\t\t\t[message, ...messages]\n\t\t);\n\t}\n\n\tuseEffect(() => {\n\t\tsetMessagesLoading(true);\n\t\tsetInputEnabled(false);\n\t\t// TODO\n\t\tsetTimeout(() => {\n\t\t\tsetMessagesLoading(false);\n\t\t\tsetInputEnabled(true);\n\t\t}, 1000);\n\t}, [selectedContact]);\n\n\tconst swipeHandlers = useSwipeable({\n\t\tonSwipedRight: () => onMobileBackPress(),\n\t});\n\n\tconst Contacts = (\n\t\t<ChatContacts\n\t\t\t{...props}\n\t\t\tselectedContact={selectedContact}\n\t\t\tsetSelectedContact={setSelectedContact}\n\t\t/>\n\t);\n\tconst Chat = (\n\t\t<>\n\t\t\t<ChatBanner\n\t\t\t\t{...props}\n\t\t\t\tselectedContact={selectedContact}\n\t\t\t\tonBackPress={onMobileBackPress}\n\t\t\t\t// isLoading={isMessagesLoading}\n\t\t\t/>\n\t\t\t<ChatMessages\n\t\t\t\t{...props}\n\t\t\t\tselectedContact={selectedContact}\n\t\t\t\tmessages={messages}\n\t\t\t\tisLoading={isMessagesLoading}\n\t\t\t/>\n\t\t\t<ChatInput {...props} onSend={onSend} enabled={isInputEnabled} />\n\t\t</>\n\t);\n\n\treturn (\n\t\t<Paper className={classes.root} elevation={0}>\n\t\t\t<Grid container className={classes.container}>\n\t\t\t\t<Grid\n\t\t\t\t\titem\n\t\t\t\t\txs={12}\n\t\t\t\t\tmd={4}\n\t\t\t\t\tlg={3}\n\t\t\t\t\tclassName={classes.contactContainer}\n\t\t\t\t>\n\t\t\t\t\t{Contacts}\n\t\t\t\t</Grid>\n\t\t\t\t<Grid\n\t\t\t\t\titem\n\t\t\t\t\txs={12}\n\t\t\t\t\tmd={8}\n\t\t\t\t\tlg={9}\n\t\t\t\t\tclassName={classes.chatContainer}\n\t\t\t\t\t{...swipeHandlers}\n\t\t\t\t>\n\t\t\t\t\t{Chat}\n\t\t\t\t</Grid>\n\n\t\t\t\t{/*<Hidden mdUp>\n\t\t\t\t\t{selectedContact ? (\n\t\t\t\t\t\t<Grid item xs={12} className={classes.chatContainer}>\n\t\t\t\t\t\t\t{Chat}\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<Grid item xs={12} className={classes.contactContainer}>\n\t\t\t\t\t\t\t{Contacts}\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t)}\n\t\t\t\t</Hidden>*/}\n\t\t\t</Grid>\n\t\t</Paper>\n\t);\n}\n","import reactDom from \"react-dom\";\nimport React from \"react\";\nimport Redirect from \"react-router-dom/Redirect\";\n\nexport default function LandingPage(_) {\n\tconsole.log(\"redirecting to chat..\");\n\treturn <Redirect to=\"/chat\" />;\n}\n","import React, { useState } from \"react\";\nimport makeStyles from \"@material-ui/core/styles/makeStyles\";\nimport { Paper } from \"@material-ui/core\";\nimport RouterSwitch from \"react-router-dom/Switch\";\nimport Route from \"react-router-dom/Route\";\nimport ProtectedRoute from \"./components/ProtectedRoute\";\nimport LoginPage from \"./pages/login/LoginPage\";\nimport ChatPage from \"./pages/chat/ChatPage\";\nimport LandingPage from \"./pages/LandingPage\";\n\nconst useStyles = makeStyles((theme) => ({\n\troot: {\n\t\theight: \"100vh\",\n\t\twidth: \"100vw\",\n\t\toverflow: \"scroll\",\n\t\tborderRadius: 0,\n\t},\n}));\n\nfunction App() {\n\tconst classes = useStyles();\n\n\treturn (\n\t\t<Paper className={classes.root}>\n\t\t\t<RouterSwitch>\n\t\t\t\t<Route path=\"/login\" exact component={LoginPage} />\n\t\t\t\t<ProtectedRoute path=\"/chat\" exact component={ChatPage} />\n\t\t\t\t<Route path=\"/\" component={LandingPage} />\n\t\t\t</RouterSwitch>\n\t\t</Paper>\n\t);\n}\n\nexport default App;\n","import createTheme from \"@material-ui/core/styles/createMuiTheme\";\n\nexport const LightTheme = createTheme({\n\tpalette: {\n\t\tprimary: {\n\t\t\tmain: \"#3fb4ac\",\n\t\t},\n\t\ttype: \"light\",\n\t},\n});\n\nexport const DarkTheme = createTheme({\n\tpalette: {\n\t\tprimary: {\n\t\t\tmain: \"#359690\",\n\t\t},\n\t\tbackground: {\n\t\t\tpaper: \"#141414\",\n\t\t},\n\t\ttype: \"dark\",\n\t},\n});\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport ThemeProvider from \"@material-ui/core/styles/MuiThemeProvider\";\nimport HashRouter from \"react-router-dom/BrowserRouter\";\nimport createBrowserHistory from \"history/createBrowserHistory\";\nimport { GlobalUserContextProvider } from \"./GlobalUserState\";\nimport { LightTheme, DarkTheme } from \"./Themes\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nconst history = createBrowserHistory();\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<GlobalUserContextProvider>\n\t\t\t<HashRouter>\n\t\t\t\t<ThemeProvider theme={LightTheme}>\n\t\t\t\t\t<App />\n\t\t\t\t</ThemeProvider>\n\t\t\t</HashRouter>\n\t\t</GlobalUserContextProvider>\n\t</React.StrictMode>,\n\tdocument.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}